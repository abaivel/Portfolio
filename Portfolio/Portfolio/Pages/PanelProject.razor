@using MudBlazor
@using System.Web
@using System.Text.RegularExpressions
<MudItem Class="panel-project-div">
	<MudText Typo="Typo.h4">@Project.Name</MudText>
	<MudText Typo="Typo.h5">@Project.Language</MudText>
	<br />
	<MudGrid Justify="Justify.Center" Spacing="0" Style="margin: 10px 0;">
		<MudItem Style="width:33%;text-align: center;">
			<MudIcon Icon="@Icons.Material.Filled.People"></MudIcon>
			<MudText>@Project.NbPeople</MudText>
		</MudItem>
		<MudItem Style="width:33%;text-align: center;border-left: lightgrey 2px solid;">
			<MudIcon Icon="@Icons.Material.Filled.CalendarToday"></MudIcon>
			<MudText>@Project.Year</MudText>
		</MudItem>
		<MudItem Style="width:33%;text-align: center;border-left: lightgrey 2px solid;">
			<MudIcon Icon="@Icons.Material.Filled.BusinessCenter"></MudIcon>
			@if (Project.TypeProjectEnum == Enums.TypeProjectEnum.SCHOOL){
				<MudText>School Project</MudText>
			}
			else if (Project.TypeProjectEnum == Enums.TypeProjectEnum.PERSO)
			{
				<MudText>Personnal Project</MudText>
			}else{
				<MudText>Professionnal Project</MudText>
			}
		</MudItem>
	</MudGrid>
	<br/>
	<MudItem Style="gap: 20px;display: grid;">
		<MudText Typo="Typo.body1" Align="Align.Justify" Style="width:95%;margin: auto;">
			@((MarkupString)Regex.Replace(HttpUtility.HtmlEncode(Project.Introduction), "\r?\n|\r", "<br />"))
		</MudText>
		@for (var i=0;i<Project.Paragraphes.Count;i++){
			var index = i;
			@if (Project.Images[index] != null){
				@if (index % 2 == 0)
				{
					<MudItem Class="div-text-left-image-right d-flex justify-center">
						<MudItem Class="div-text">
							<MudText Align="Align.Justify" Typo="Typo.body1">
								@((MarkupString)Regex.Replace(HttpUtility.HtmlEncode(Project.Paragraphes[index]), "\r?\n|\r", "<br />"))
						</MudText>
					</MudItem>
					<MudItem Class="div-image">
						<MudImage Fluid="true" Src="@(Project.Images[index])" />
					</MudItem>
				</MudItem>
				}else{
					<MudItem Class="div-text-right-image-left d-flex justify-center">
						<MudItem Class="div-image">
							<MudImage Fluid="true" Src="@(Project.Images[index])" />
						</MudItem>
						<MudItem Class="div-text">
							<MudText Align="Align.Justify" Typo="Typo.body1">
								@((MarkupString)Regex.Replace(HttpUtility.HtmlEncode(Project.Paragraphes[index]), "\r?\n|\r", "<br />"))
							</MudText>
						</MudItem>
					</MudItem>
				}
			}else{
				<MudText Typo="Typo.body1" Align="Align.Justify" Style="width:95%;margin: auto;">
					@((MarkupString)Regex.Replace(HttpUtility.HtmlEncode(Project.Paragraphes[index]), "\r?\n|\r", "<br />"))
				</MudText>
			}
		}
	</MudItem>
	<br />
	<MudItem Style="gap: 10px;display: flex;">
		@if (Project.GithubUrl!=null){
			<MudButton Href="@Project.GithubUrl"
					   Target="_blank"
					   Variant="Variant.Filled"
					   EndIcon="@Icons.Custom.Brands.GitHub"
					   Color="Color.Primary">
				GitHub
			</MudButton>
		}
		@if (Project.Url != null)
		{
			<MudButton Href="@Project.Url"
					   Target="_blank"
					   Variant="Variant.Filled"
					   EndIcon="@Icons.Material.Filled.Link"
					   Color="Color.Primary">
				Lien
			</MudButton>
		}
	</MudItem>
</MudItem>

